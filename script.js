// ====== Popup Detail Data ======
const details = {
    detail1: `
    <h3>Pemicu Utama</h3>
    <p>Saat itu, Haji Tb. Ismail dan pasukannya menemukan Dumas yang sedang bersembunyi dirumah seorang Tionghoa yang bernama Tan Heng Kok. Akhirnya Alfred Dumas terluka dan dilarikan ke kepatihan oleh ajun kolektor. Saat itu Dumas menjadi korban pertama di tangan pemberontakan pasukan Haji Tb. Ismail. Begitu juga anak laki-lakinya dan istrinya. Pembantu Dumas, Minah, dan anak bungsunya ditemukan ditengah sawah dalam keadaan luka parah. Para pasukan pemberontak yang dipimpin oleh Haji Usman menyerang Ulrich Bachet, kepala penjualan garam. Bachet akhirnya bersembunyi pada salah satu rumah penduduk yang berletak dibelakang rumahnya. Bachet sempat melepaskan tembakan dari bedil miliknya yang menewaskan 2 orang pemberontak. Namun, akhirnya Bachet dibunuh oleh pasukan Haji Usman.</p>

    <p>Sebagian pemberontak yang dipimpin oleh Lurah Jasim berhasil membebaskan 20 tahanan. Pembebasan tersebut berhasil membunuh seorang sipir yang bernama Mas Kramadimeja. Namun Istri Gubbels, Anna Elizabeth van Zutphen, wedana, dan kepala penjara berhasil melarikan diri menuju arah kepatihan. Hal ini menyebabkan para pemberontak yang dipimpin Lurah Jasim ini mengepung rumah kepatihan. Patih Raden Penna dicari oleh para pemberontak, namun ia tidak ada ditempat. Alhasil, Sadiman selaku pelayan di kepatihan pun meregang nyawa setelah dihabisi para pemberontak.</p>
  `,
    detail2: `
    <h3>Peran Keagamaan</h3>
    <p>Sebagai salah seorang agamawan, Ki Wasyid sering memberikan fatwa dan mengingatkan warga Cilegon saat itu bahwa “meminta selain kepada Allah termasuk syirik.” Namun, fatwanya kurang diindahkan. Karenanya pada suatu malam, Ki Wasyid dan muridnya menebang pohon yang disebut berhala. Inilah yang menyebabkan Ki Wasyid diseret ke pengadilan kolonial pada 1887. Saat itu, kondisi makin diperburuk akibat meletusnya Gunung Krakatau di Selat Sunda pada tanggal 23 Agustus 1883. Letusan tersebut menyebabkan gelombang laut yang meluluhlantakkan Anyer, Caringin, Sirih, Pasuruan, Tajur, dan Carita. Selain itu, ada bencana kelaparan, penyakit pes, dan penyakit hewan ternak. Fenomena tersebut berlangsung selama 5 tahun. Peristiwa yang terjadi juga disebut-sebut sebagai salah satu pelatuk pada Ki Wasyid untuk melakukan perlawanan terhadap kependudukan Belanda. </p>

	<p>Selain itu, pada tahun 1888 terjadi pemberontakan oleh pejabat-pejabat pemerintah kolonial di Cilegon, mereka mengeluarkan surat edaran kepada bawahannya untuk melarang pembacaan shalawat Nabi dan doa-doa lainnya dengan suara keras di masjid. Pemerintah kolonial juga menghancurkan menara masjid Cilegon dengan alasan telah terlalu tua. Hal-hal yang dianggap sebagai penghinaan ini dijawab oleh rakyat banyak dalam bentuk pemberontakan yang bertujuan lebih luas lagi, yaitu mengenyahkan kekuasaan Belanda dari daerah itu. Di tengah peristiwa ini, kebijakan Pemerintah Kolonial Belanda yang mewajibkan masyarakat membunuh kerbau karena takut tertular penyakit meresahkan warga. Belum lagi, penghinaan Belanda terhadap aktivitas keagamaan menambah rentetan alasan dilakukan perlawanan bersenjata. Di lain pihak, tekanan hidup yang makin terdesak membuat warga banyak lari ke klenik (tahayul). </p>
  `,
    detail3: `
    <h3>Kronologi</h3>

     <h4>Dimulainya Peperangan</h4>
 <p>Pejuang bermula pada tanggal 9 Juli 1888, dini hari. Pejuang berjumlah 100 orang dan seluruhnya bergerak dari tempat Haji Ishak di Saneja untuk menyerang rumah Residen Francois Dumas, selaku juru tulis di kantor asisten residen VOC. Akan tetapi, Dumas melarikan diri dan terpisah dari anak beserta istrinya. Dumas bersembunyi dirumah tetangganya yang berprofesi sebagai jaksa. Sedangkan, anak beserta istrinya bersembunyi dirumah seorang ajudan kolektor. Saat itu, para pejuang bertitik temu di Pasar Jombang Wetan, Cilegon. Selaku pemimpin, Ki Wasyid membagi pasukan menjadi 3 kelompok. Pertama, pasukan dipimpin oleh Lurah Jasim, seorang Jaro Kajuruan. Kedua, pasukan dipimpin Haji Abdulgani dan Haji Usman. Ketiga, pasukan dipimpin oleh Haji Tb. Ismail. Fokus penyerangan saat itu adalah pembebasan tahanan politik, kepatihan, dan rumah asisten Residen yang berletak di alun-alun Kota Cilegon. </p>

    <h4>Puncak Penyerangan<h4>
<p>Saat itu, Haji Tb. Ismail dan pasukannya menemukan Dumas yang sedang bersembunyi dirumah seorang Tionghoa yang bernama Tan Heng Kok. Akhirnya Alfred Dumas terluka dan dilarikan ke kepatihan oleh ajun kolektor. Saat itu Dumas menjadi korban pertama di tangan pemberontakan pasukan Haji Tb. Ismail. Begitu juga anak laki-lakinya dan istrinya. Pembantu Dumas, Minah, dan anak bungsunya ditemukan ditengah sawah dalam keadaan luka parah. Para pasukan pemberontak yang dipimpin oleh Haji Usman menyerang Ulrich Bachet, kepala penjualan garam. Bachet akhirnya bersembunyi pada salah satu rumah penduduk yang berletak dibelakang rumahnya. Bachet sempat melepaskan tembakan dari bedil miliknya yang menewaskan 2 orang pemberontak. Namun, akhirnya Bachet dibunuh oleh pasukan Haji Usman. </p>

<p>Sebagian pemberontak yang dipimpin oleh Lurah Jasim berhasil membebaskan 20 tahanan. Pembebasan tersebut berhasil membunuh seorang sipir yang bernama Mas Kramadimeja. Namun Istri Gubbels, Anna Elizabeth van Zutphen, wedana, dan kepala penjara berhasil melarikan diri menuju arah kepatihan. Hal ini menyebabkan para pemberontak yang dipimpin Lurah Jasim ini mengepung rumah kepatihan. Patih Raden Penna dicari oleh para pemberontak, namun ia tidak ada ditempat. Alhasil, Sadiman selaku pelayan di kepatihan pun meregang nyawa setelah dihabisi para pemberontak. </p>

<p>Para pemberontak yang dipimpin Lurah Jasim akhirnya menggiring Wedana Cilegon, Raden Cakradiningrat, Jaksa Cilegon Mas Sastradiwiria, dan Ajun Kolektor Raden Purwadiningrat menuju alun-alun Kota Cilegon untuk dieksekusi. Salah seorang mantan tahanan politik, Kasidin, meluapkan amarah dan dendamnya terhadap wedana Cilegon yang saat itu memenjarakannya. Beberapa dari pemberontak menekankan untuk jangan menganiaya wedana Cilegon. Akan tetapi, Kasidin melompat ke arah muka Wedana Cilegon sambil berteriak: “Justru ini yang mesti didahulukan!”. “Maka ditebasnyalah leher saudara sepupuku itu dengan parangnya,” kata Achmad Djajadiningrat, seperti yang dikutip oleh Hendri F. Isnaeni, Jalannya Pemberontakan Petani Banten 1888, di Historia.id. Setelah menyerang Alfred Dumas, Ulrich Bachet, dan Gubbels. Kini para pemberontak menyerang Jacob Grondhout, insinyur pengeboran pada departemen petambangan di Cilegon dan istrinya, Cecile Wijermans. Keduanya tewas dibunuh oleh para pemberontak. Mas Asidin (magang yang diperbantukan pada asisten wedana Bojonegara), Mas Jayaatmaja (mantri ulu atau pegawai pengairan distrik Cilegon), Jamil (kepala opas asisten residen Anyer), Jasim (pelayan asisten wedana Krapyak Cilegon) juga turut dihabisi oleh para pemberontak.</p>

  `,
    detail4: `
    <h3>Dampak dan Akhir</h3>
    <p>Pemberontakan Banten 1888 menjadi simbol perlawanan rakyat terhadap kolonialisme.
    Banyak tokoh ditangkap dan dibuang, namun semangat perjuangan mereka menginspirasi generasi berikutnya.</p>
  `
};

// ====== Popup Interaction ======
const cards = document.querySelectorAll('.card');
const popup = document.getElementById('popup');
const popupText = document.getElementById('popup-text');
const closeBtn = document.getElementById('close');

cards.forEach(card => {
    card.addEventListener('click', () => {
        const detailKey = card.getAttribute('data-detail');
        popupText.innerHTML = details[detailKey];
        popup.classList.remove('hidden');
    });
});

closeBtn.addEventListener('click', () => popup.classList.add('hidden'));
popup.addEventListener('click', e => {
    if (e.target === popup) popup.classList.add('hidden');
});

// ====== Smooth Scroll Animation ======
document.querySelectorAll('.nav-links a, .btn').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        window.scrollTo({
            top: target.offsetTop - 60,
            behavior: 'smooth'
        });
    });
});

// ====== Fade-In on Scroll ======
const faders = document.querySelectorAll('.fade-in');
const appearOptions = { threshold: 0.2 };

const appearOnScroll = new IntersectionObserver(function(entries, observer) {
    entries.forEach(entry => {
        if (!entry.isIntersecting) return;
        entry.target.classList.add('show');
        observer.unobserve(entry.target);
    });
}, appearOptions);

faders.forEach(fader => appearOnScroll.observe(fader));